!function(n){function e(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return n[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var t={};return e.m=n,e.c=t,e.p="",e(0)}([function(n,e,t){(function(n){"use strict";function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),r=function(){function n(){var e=arguments.length<=0||void 0===arguments[0]?document:arguments[0],o=this,r=arguments.length<=1||void 0===arguments[1]?"JSBridgeCB":arguments[1],i=arguments.length<=2||void 0===arguments[2]?"JSBridgeDispatch":arguments[2];t(this,n),this.callNative=function(n){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t=arguments.length<=2||void 0===arguments[2]?function(){}:arguments[2];if(/wenba:\/\//.test(n))return o.schema(n),o.cb_length;var r=o.guid();o._.cbMap[r]=t;var i="wenba://xuebajun?action="+n+"&data="+JSON.stringify(e)+"&cb="+r;return o.schema(i),o.cb_length},this.nativeCB=function(n){var e=arguments.length<=1||void 0===arguments[1]?"{}":arguments[1];if(o._.cbMap[n]){var t=o._.cbMap[n];return t(JSON.parse(e)),delete o._.cbMap[n],!0}return console.error("no callback:"+n),!1},this.on=function(n,e){return o.on[n]&&o.on[n](),o._.doc.addEventListener(n,e,!1),o.on[n]=function(){o._.doc.removeEventListener(n,e,!1)},o.on[n]},this.dispatch=function(n){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],t=document.createEvent("HTMLEvents");t.initEvent(n,!1,!0),t.data=e,o._.doc.dispatchEvent(t)},this._.doc=e,this._.cbMap={},!r||(window[r]=this.nativeCB),!i||(window[i]=this.dispatch)}return o(n,[{key:"_",value:function(){}},{key:"guid",value:function(){return(65536*((new Date).getTime()*Math.random()+Math.random())|0).toString(16).substring(1)}},{key:"param",value:function(n){var e=[];for(var t in n){var o=n[t];"function"==typeof t&&(o=o()),o instanceof Array&&(o=o.join(",")),null==o&&(o=""),e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}return e.join("&")}},{key:"schema",value:function(n){location.href=n}},{key:"cb_length",get:function(){return Object.keys(this._.cbMap).length}}]),n}();e["default"]=r,n.exports=r,n&&(window.JSBridge=r)}).call(e,t(1)(n))},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children=[],n.webpackPolyfill=1),n}}]);